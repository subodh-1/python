<?xml version="1.0" encoding="utf-8"?>

<odoo>
    <data noupdate="1">

        <record id="module_category_school" model="ir.module.category">
            <field name="name">School Management</field>
            <field name="sequence">22</field>
        </record>

        <record id="group_simulab_super_administration" model="res.groups">
            <field name="name">Simulab Super Administrator</field>
            <field name="category_id" ref="module_category_school"/>
            <field name="users" eval="[(4, ref('base.user_root')),(4, ref('base.user_admin'))]"/>
        </record>

        <record id="group_simulab_administration" model="res.groups">
            <field name="name">Simulab Administrator</field>
            <field name="category_id" ref="module_category_school"/>
            <field name="users" eval="[(4, ref('base.user_root')),(4, ref('base.user_admin'))]"/>
        </record>

        <record id="group_school_administration" model="res.groups">
            <field name="name">School Administrator</field>
            <field name="category_id" ref="module_category_school"/>
            <field name="users" eval="[(4, ref('base.user_root')),(4, ref('base.user_admin'))]"/>
        </record>

        <record id="group_school_teacher" model="res.groups">
            <field name="name">School Teacher</field>
            <field name="category_id" ref="module_category_school"/>
        </record>

        <record id="group_school_student" model="res.groups">
            <field name="name">School Student</field>
            <field name="category_id" ref="module_category_school"/>
        </record>

        <record id="simulab_admin_access_data" model="ir.rule">
            <field name="name">All School Data</field>
            <field name="model_id" ref="base.model_res_company"/>
            <field eval="False" name="global"/>
            <field name="groups" eval="[(4, ref('simulab.group_simulab_administration'))]"/>
            <field name="domain_force">[(1,'=',1)]</field>
        </record>

        <record id="simulab_own_school_teacher" model="ir.rule">
            <field name="name">Self School Teacher</field>
            <field name="model_id" ref="model_school_teacher"/>
            <field eval="False" name="global"/>
            <field name="groups" eval="[(4, ref('simulab.group_school_administration')), (4, ref('simulab.group_school_teacher'))]"/>
            <field name="domain_force">[('company_id','in', company_ids)]</field>
        </record>

        <record id="simulab_own_school_students" model="ir.rule">
            <field name="name">School Students</field>
            <field name="model_id" ref="model_student_student"/>
            <field eval="False" name="global"/>
            <field name="groups" eval="[(4, ref('simulab.group_school_administration')), (4, ref('simulab.group_school_teacher'))]"/>
            <field name="domain_force">[('company_id','in', company_ids)]</field>
        </record>

        <record id="simulab_own_school_classes" model="ir.rule">
            <field name="name">School Classes</field>
            <field name="model_id" ref="model_school_standard"/>
            <field eval="False" name="global"/>
            <field name="groups" eval="[(4, ref('simulab.group_school_administration')), (4, ref('simulab.group_school_teacher'))]"/>
            <field name="domain_force">[('company_id','in', company_ids)]</field>
        </record>

        <record id="simulab_own_school_class_section" model="ir.rule">
            <field name="name">School Sections</field>
            <field name="model_id" ref="model_standard_division"/>
            <field eval="False" name="global"/>
            <field name="groups" eval="[(4, ref('simulab.group_school_administration')), (4, ref('simulab.group_school_teacher'))]"/>
            <field name="domain_force">[('company_id','in', company_ids)]</field>
        </record>

        <record id="simulab_own_school_inrolled_courses" model="ir.rule">
            <field name="name">Enrolled Courses</field>
            <field name="model_id" ref="model_enrolled_course"/>
            <field eval="False" name="global"/>
            <field name="groups" eval="[(4, ref('simulab.group_school_administration')), (4, ref('simulab.group_school_teacher'))]"/>
            <field name="domain_force">[('company_id','in', company_ids)]</field>
        </record>

        <record id="simulab_own_school_student_experiments" model="ir.rule">
            <field name="name">School Student Experiments</field>
            <field name="model_id" ref="model_student_experiment"/>
            <field eval="False" name="global"/>
            <field name="groups" eval="[(4, ref('simulab.group_school_administration')), (4, ref('simulab.group_school_teacher'))]"/>
            <field name="domain_force">[('company_id','in', company_ids)]</field>
        </record>

        <record id="simulab_experiment_quizes" model="ir.rule">
            <field name="name">Simulab Experiment Quizes</field>
            <field name="model_id" ref="model_experiment_quiz"/>
            <field eval="False" name="global"/>
            <field name="groups" eval="[(4, ref('simulab.group_school_administration')), (4, ref('simulab.group_school_teacher'))]"/>
            <field name="domain_force">['|',('company_id','in', company_ids), ('company_id','=', False)]</field>
        </record>

        <record id="simulab_experiment_quizes_edit" model="ir.rule">
            <field name="name">Simulab Experiment Quizes Edit</field>
            <field name="model_id" ref="model_experiment_quiz"/>
            <field name="groups" eval="[(4, ref('simulab.group_school_administration')), (4, ref('simulab.group_school_teacher'))]"/>
            <field name="domain_force">[('company_id','in', company_ids)]</field>
            <field name="perm_unlink" eval="1"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_read" eval="1"/>
            <field name="perm_create" eval="1"/>
        </record>

        <record id="rule_simulab_course_not_website_simulab_admin" model="ir.rule">
            <field name="name">Course: public/portal/user: restricted to published and (simulab admin only)</field>
            <field name="model_id" ref="model_simulab_course"/>
            <field name="groups" eval="[(4, ref('simulab.group_simulab_administration')),(4, ref('simulab.group_school_administration')),(4, ref('simulab.group_school_teacher'))]"/>
            <field name="domain_force">[(1,'=',1)]</field>
            <field name="perm_unlink" eval="1"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_read" eval="1"/>
            <field name="perm_create" eval="1"/>
        </record>

        <record id="simulab_own_school_dashboard" model="ir.rule">
            <field name="name">School Dashboard</field>
            <field name="model_id" ref="model_simulab_homepage"/>
            <field eval="False" name="global"/>
            <field name="groups" eval="[(4, ref('simulab.group_school_administration')), (4, ref('simulab.group_school_teacher'))]"/>
            <field name="domain_force">[('company_id','in', company_ids)]</field>
        </record>


        <record id="simulab_school_special_price" model="ir.rule">
            <field name="name">School Course Price</field>
            <field name="model_id" ref="model_school_course_price"/>
            <field eval="False" name="global"/>
            <field name="groups" eval="[(4, ref('simulab.group_school_administration')), (4, ref('simulab.group_school_teacher'))]"/>
            <field name="domain_force">[('company_id','in', company_ids)]</field>
        </record>


        <record id="simulab_own_school_student_transaction" model="ir.rule">
            <field name="name">School Transaction</field>
            <field name="model_id" ref="model_simulab_subscription"/>
            <field eval="False" name="global"/>
            <field name="groups" eval="[(4, ref('simulab.group_school_administration')), (4, ref('simulab.group_school_teacher'))]"/>
            <field name="domain_force">[('company_id','in', company_ids)]</field>
        </record>

    </data>
</odoo>
