<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="quiz_question_view_form" model="ir.ui.view">
        <field name="name">quiz.question.view.form</field>
        <field name="model">quiz.question</field>
        <field name="arch" type="xml">
            <form string="Quiz">
                <sheet>
                    <field name="image_1920" widget="image" class="oe_avatar"
                        options='{"preview_image": "image_256"}' />
                    <div class="oe_title">
                        <div>
                            <label for="question" string="Question Name" />
                        </div>
                        <h1>
                            <field name="question" default_focus="1"
                                placeholder="e.g. Structure belongs to which structure" />
                        </h1>
                        <field name="marks_ids" string="Exam Year" widget="many2many_tags" />
                    </div>
                    <group string="Question Description" colspan="4">
                        <field name="question_desc" nolabel="1" placeholder="Question Description"/>
                        <field name="marks"/>
                    </group>
                    <field name="answer_ids">
                        <tree editable="bottom" create="true" delete="true">
                            <field name="text_value" />
                            <field name="is_correct" />
                            <field name="comment" />
                            <field name="image_1920" widget="image" class="oe_avatar" string="Infographics"
                                    options='{"preview_image": "image_256"}' />
                        </tree>
                    </field>
                    <group string="Answer explanations">
                        <field name="explanation_ids" nolabel="1">
                                <tree editable="bottom" create="true" delete="true">
                                    <field name="description"  />
                                    <field name="image_1920" widget="image" class="oe_avatar" string="Infographics"
                                        options='{"preview_image": "image_256"}' />
                                </tree>
                        </field>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="quiz_question_view_tree" model="ir.ui.view">
        <field name="name">quiz.question.view.tree</field>
        <field name="model">quiz.question</field>
        <field name="arch" type="xml">
            <tree string="Quizzes">
                <field name="sequence" widget="handle" />
                <field name="marks_ids" widget="many2many_tags" string="Exam Year"/>
                <field name="question" />
                <field name="quiz_id" />
            </tree>
        </field>
    </record>


    <record id="view_experiment_quiz_form" model="ir.ui.view">
        <field name="name">experiment.quiz.form</field>
        <field name="model">experiment.quiz</field>
        <field name="arch" type="xml">
            <form string="Experiment's Quiz">
                <sheet>
                    <div class="oe_button_box oe_read_only" name="button_box">
                        <field name="simulab_id" class="oe_left"
                            style="max-height:120px; padding:15px" />
                        <button name="view_question_counts" icon="fa-files-o"
                            class="oe_stat_button">
                            <div class="o_field_widget o_stat_info">
                                <span class="o_stat_value">
                                    <field name="question_count" nolabel="1" />
                                    Questions Count
                                </span>
                            </div>
                        </button>
                        <button name="view_student_count" icon="fa-users" class="oe_stat_button">
                            <div class="o_field_widget o_stat_info">
                                <span class="o_stat_value">
                                    <field name="students_count" nolabel="1" />
                                    Students Answered
                                </span>
                            </div>
                        </button>
                        <button name="action_publish" type="object" icon="fa-trophy"
                            class="oe_stat_button">
                            <div class="o_field_widget o_stat_info">
                                <span class="o_stat_value">
                                    <field name="is_published" nolabel="1" />
                                    Publish
                                </span>
                            </div>
                        </button>
                    </div>

                    <field name="active" invisible="1" />
                    <widget name="web_ribbon" title="Archived" bg_color="bg-danger"
                        attrs="{'invisible': [('active', '=', True)]}" />
                    <field name="image_1920" widget="image" class="oe_avatar"
                        options='{"preview_image": "image_256"}' />
                    <div class="oe_title">
                        <div>
                            <label for="name" string="Quiz Name" />
                        </div>
                        <h1>
                            <field name="name" default_focus="1"
                                placeholder="e.g. Quiz for Experiment Determination of concentration of KMnOâ‚„ solution" />
                        </h1>
                        <field name="tag_ids" widget="many2many_tags"
                            options="{'color_field': 'color'}" placeholder="Tags..." />
                        <field name="school_id" style="max-height:120px; padding:15px"
                            placeholder="Select School..." />
                    </div>

                    <field name="quiz_details"
                        placeholder="Describe about the simulation/experiment's Quiz"
                        class="oe_read_only" />

                    <group name="quiz_details">
                        <group>
                            <field name="experiment_id" />
                            <field name="grade_id" />
                            <field name="subject_id" />
                            <field name="date_published" string="Published Date"
                                attrs="{'invisible': [('date_published', '=', False)]}"/>
                        </group>
                        <group>
                            <field name="marks" />
                            <label for="completion_time" />
                            <div>
                                <field name="completion_time" widget="float_time"
                                    class="oe_inline" />
                                <span>Mins.</span>
                            </div>
                            <field name="create_uid" string="Added By" />
                        </group>
                    </group>
                    <group name="related_details">
                        <group>
                            <field name="completion_comment" style="max-height:120px;"/>
                            <field name="quiz_comment" style="max-height:60px;"/>
                            <field name="question_comment" />
                        </group>
                        <group>
                            <field name="student_count_comment" />
                            <field name="student_instruction" />
                            <field name="marks_comment" />
                        </group>
                    </group>
                    <group>
                        <field name="quiz_instruction" />
                    </group>
                    <field name="question_ids" string="Quiz Questions" colspan="4" nolabel="1">
                        <tree>
                            <field name="sequence" widget="handle" />
                            <field name="marks_ids" widget="many2many_tags" />
                            <field name="question" />
                            <field name="answer_ids" />
                            <field name="attempts_count" />
                            <field name="attempts_avg" />
                        </tree>
                    </field>
                    <group name="Competitive Exam Marks" string="Competitive Exam Marks">
                        <field name="marks_ids" string="Content" colspan="4" nolabel="1">
                            <tree>
                                <field name="name" />
                                <field name="marks" />
                                <field name="note" />
                            </tree>
                        </field>
                    </group>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" />
                    <field name="message_ids" />
                </div>
            </form>
        </field>
    </record>


    <record id="view_experiment_quiz_tree" model="ir.ui.view">
        <field name="name">experiment.quiz.tree</field>
        <field name="model">experiment.quiz</field>
        <field name="arch" type="xml">
            <tree string="Simulab Experiment Quiz" sample="1">
                <field name="sequence" widget="handle" />
                <field name="name" />
                <field name="simulab_id" class="oe_read_only"
                    groups="simulab.group_simulab_administration" />
                <field name="experiment_id" />
                <field name="date_published" />
                <field name="students_count" />
                <field name="completion_time" />
                <field name="school_id" groups="simulab.group_simulab_administration" />
            </tree>
        </field>
    </record>

    <record id="experiment_quiz_action" model="ir.actions.act_window">
        <field name="name">Simulab Experiment Quiz</field>
        <field name="res_model">experiment.quiz</field>
        <field name="view_mode">tree,form,kanban</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Add a new Quiz
            </p>
        </field>
    </record>


    <record id="experiment_students_quiz_action" model="ir.actions.act_window">
        <field name="name">Student Experiment Quiz</field>
        <field name="res_model">student.experiment.quiz</field>
        <field name="domain">[('student_quiz_question_ids','!=',[])]</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Wait for student to enroll for a quiz!
            </p>
        </field>
    </record>

    <record id="view_student_experiment_quiz_tree" model="ir.ui.view">
        <field name="name">student.experiment.quiz.tree</field>
        <field name="model">student.experiment.quiz</field>
        <field name="arch" type="xml">
            <tree string="Student Experiment Quiz" sample="1">
                <field name="name" />
                <field name="student_experiment_id" />
                <field name="student_id" />
                <field name="class_id" />
                <field name="create_date" />
                <field name="write_date" />
                <field name="student_quiz_question_ids" />
                <field name="completion_time" widget="float_time"/>
                <field name="quiz_status" />
                <field name="time_left" widget="float_time"/>
            </tree>
        </field>
    </record>

    <record id="view_student_experiment_quiz_search" model="ir.ui.view">
        <field name="name">student.experiment.quiz.search</field>
        <field name="model">student.experiment.quiz</field>
        <field name="arch" type="xml">
            <search string="Student Experiment Quizzes">
                <field name="name" />
                <field name="quiz_id" />
                <field name="class_id" />
                <field name="experiment_id" />
                <field name="student_id" />
                <field name="quiz_status" />
            </search>
        </field>
    </record>

    <record id="view_student_quiz_question_tree" model="ir.ui.view">
        <field name="name">student.quiz.question.tree</field>
        <field name="model">student.quiz.question</field>
        <field name="arch" type="xml">
            <tree string="Students Experiment Quiz Question" sample="1">
                <field name="sequence" />
                <field name="question_id" />
                <field name="student_quiz_answer_ids" />
                <field name="av_time" />
            </tree>
        </field>
    </record>

    <record id="view_student_quiz_answer_tree" model="ir.ui.view">
        <field name="name">student.quiz.answer.tree</field>
        <field name="model">student.quiz.answer</field>
        <field name="arch" type="xml">
            <tree string="Students Experiment Quiz Answer" sample="1">
                <field name="name" />
            </tree>
        </field>
    </record>

    <record id="student_quiz_answer_action" model="ir.actions.act_window">
        <field name="name">Students Experiment Quiz Answer</field>
        <field name="res_model">student.quiz.answer</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Wait for students to Answer!
            </p>
        </field>
    </record>

</odoo>
