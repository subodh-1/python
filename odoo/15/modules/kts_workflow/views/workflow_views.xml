<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <record id="make_invisible_1" model="res.groups">
        <field name="name">Invisible_1</field>
    </record>

    <record id="view_workflow_model_form" model="ir.ui.view">
        <field name="name">workflow.model.form</field>
        <field name="model">workflow.model</field>
        <field name="arch" type="xml">
            <form string="Model">
                <sheet>
                    <div class="oe_title">
                        <label string="Workflow Model Name" for="name"/>
                        <h2>
                            <field name="name" required="1"/>
                        </h2>
                    </div>
                    <group>
                        <group>
                            <field name="model_name" options='{"no_open": True, "no_create": True}'/>
                        </group>
                        <group>
                            <field name="active"/>
                        </group>
                    </group>
                    <field name="stage_ids"/>
                </sheet>
            </form>
        </field>
    </record>
    <record id="view_workflow_model_tree" model="ir.ui.view">
        <field name="name">workflow.model.tree</field>
        <field name="model">workflow.model</field>
        <field name="arch" type="xml">
            <tree string="Workflow Models">
                <field name="name"/>
                <field name="stage_ids"/>
            </tree>
        </field>
    </record>

    <record id="view_workflow_stage_search" model="ir.ui.view">
        <field name="name">workflow.stage.search</field>
        <field name="model">workflow.stage</field>
        <field name="arch" type="xml">
            <search string="Ticket Stage Search">
                <filter
                        string="Archived"
                        name="inactive"
                        domain="[('active','=',False)]"
                />
                <separator/>
                <field name="name" filter_domain="[('name', 'ilike', self)]"/>
                <group expand="0" string="Group By">
                    <filter name="group_description" string="Description" domain="[]" context="{'group_by':'description'}"/>
                </group>
            </search>
        </field>
    </record>

    <record id="view_workflow_stage_form" model="ir.ui.view">
        <field name="name">workflow.stage.form</field>
        <field name="model">workflow.stage</field>
        <field name="arch" type="xml">
            <form string="Stages">
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button
                                name="toggle_active"
                                type="object"
                                class="oe_stat_button"
                                icon="fa-check"
                        >
                            <field
                                    name="active"
                                    widget="boolean_button"
                                    options='{"terminology": "active"}'
                            />
                        </button>
                    </div>
                    <div class="oe_title">
                        <label for="name"/>
                        <h1>
                            <field name="name" required="1"/>
                        </h1>
                    </div>
                    <group name="main">
                        <group name="main_left">
                            <field name="sequence"/>
                            <field name="user_id" options='{"no_open": True, "no_create": True}'
                                   attrs="{'readonly':[('is_team', '==', True)]}" force_save="1"/>
                            <field name="team_id" options='{"no_open": True, "no_create": True}'
                                   attrs="{'invisible':[('is_team', '==', False)]}"/>
                            <field name="is_team"/>
                            <field name="notify_users" options='{"no_open": True, "no_create": True}'/>
                            <field name="mail_template_id" options='{"no_open": True, "no_create": True}'/>
                            <field name="is_final"/>
                            <field name="is_cancel" attrs="{'invisible':[('is_final', '==', False)]}"/>
                        </group>
                    </group>
                    <field name="description"/>
                </sheet>

            </form>
        </field>
    </record>

    <record id="view_workflow_stage_tree" model="ir.ui.view">
        <field name="name">workflow.stage.tree</field>
        <field name="model">workflow.stage</field>
        <field name="arch" type="xml">
            <tree string="Workflow Stages">
                <field name="sequence"/>
                <field name="name"/>
                <field name="user_id"/>
                <field name="team_id"/>
                <field name="mail_template_id"/>
                <field name="description"/>
                <field name="notify_users" optional="hide"/>
            </tree>
        </field>
    </record>

    <record id="selected_workflow_line_form" model="ir.ui.view">
        <field name="name">selected.workflow.line.form</field>
        <field name="model">selected.workflow.line</field>
        <field name="arch" type="xml">
            <form create="0">
                <group>
                    <group>

                        <field name="is_user" invisible="1"/>
                        <field name="user_id" options='{"no_open": True, "no_create": True}'
                               context="{'team_id': team_id}"
                               attrs="{'invisible':[('is_user', '==', False)]}"/>
                        <field name="team_id" options='{"no_open": True, "no_create": True}'
                               attrs="{'invisible':[('is_team', '==', False)]}" readonly="1" force_save="1"/>
                        <field name="stage_id" options='{"no_open": True, "no_create": True, "no_edit": True}'
                               force_save="1" readonly="1" context="{'workflow_id':parent.workflow_id}"/>

                        <field name="notify_users"/>
                    </group>
                    <group>
                        <field name="start_date"/>
                        <field name="valid_until"/>
                        <field name="is_team"  readonly="1" force_save="1"/>
                    </group>
                </group>

                <group name="main_left">
                    <field name="note" widget="html"/>
                </group>
            </form>
        </field>
    </record>

    <record id="selected_workflow_line_tree" model="ir.ui.view">
        <field name="name">selected.workflow.line.tree</field>
        <field name="model">selected.workflow.line</field>
        <field name="arch" type="xml">
            <tree create="0" delete="0" default_order="sequence"
                  decoration-warning="stage_id==parent.workflow_stage_id"
                  decoration-success="sequence  &lt; parent.stage_sequence">
                <field name="sequence" invisible="1"/>
                <field name="user_id"/>
                <field name="team_id"/>
                <field name="stage_id"/>
                <field name="start_date"/>
                <field name="valid_until"/>
                <field name="note" widget="html"/>
                <field name="notify_users" optional="hide"/>
                <field name="is_team" invisible="1"/>
                <field name="is_user" invisible="1"/>
            </tree>
        </field>
    </record>

    <record id="view_company_form_01" model="ir.ui.view">
        <field name="name">res.company.form.inherit.account_01</field>
        <field name="model">res.company</field>
        <field name="inherit_id" ref="base.view_company_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='website']" position="after">
                <field name="email_name"/>
            </xpath>
        </field>
    </record>

</odoo>
